<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<form th:method="POST" th:action="@{/registration}" th:object="${user}">
    <div class="form-group" th:classappend="${#fields.hasErrors('username')}? 'has-error':''">
        <div class="input-group">
            <span class="input-group-addon">@</span>
            <input id="username"
                type="email" 
                class="form-control"
                placeholder="Email"
                th:field="*{username}"/>
        </div>
        <p class="error-message"
            th:each="error: ${#fields.errors('username')}"
            th:text="${error}">Username error</p>
    </br></div>

    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon">@</span>
            <input id="confirmUsername"
                type="email" 
                class="form-control"
                placeholder="Confirm Email"
                th:attr="name='confirmUsername'"/>
        </div>
        <p class="error-message"
            th:if="${confirmUsernameError}" 
            th:text="${confirmUsernameError}">Confirm username error</p>
    </br></div>

    <div class="form-group"
            th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
        <div class="input-group">
            <span class="input-group-addon">
                <i class="glyphicon glyphicon-lock">pic</i>
            </span>
            <input id="password"
                    class="form-control"
                    placeholder="Password"
                    type="password"
                    th:field="*{password}"/>
        </div>
        <ul class="text-left"
            th:each="error: ${#fields.errors('password')}">
            <li th:each="message : ${error.split(',')}">
                <p class="error-message"
                    th:text="${message}"></p>
            </li>
        </ul>
    </div>

    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon">
                <i class="glyphicon glyphicon-lock">pic</i>
            </span>
            <input id="confirmPassword"
                    class="form-control"
                    type="password"
                    placeholder="Confirm password"
                    th:attr="name='confirmPassword'"/>
        </div>
        <p class="error-message"
            th:if="${confirmPasswordError}" 
            th:text="${confirmPasswordError}">Confirm password error</p>
    </div>

    <input type="submit" value="Зарегистрироваться"/>
</form>
</body>
</html>